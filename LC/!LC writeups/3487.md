# [LeetCode Problem: Maximum Sum of Unique Subarray](https://leetcode.com/problems/maximum-sum-of-distinct-subarrays-with-length-k/)  

**Name:** Maximum Sum of Unique Subarray  
**Time Complexity:** O(n)  
**Space Complexity:** O(n)  

---

## Problem Overview  

We are given an integer array `nums`. We can delete any number of elements without making the array empty. After deletion, we must select a subarray of `nums` such that:  

1. All elements in the subarray are unique.  
2. The sum of the elements in the subarray is maximized.  

We return the maximum sum achievable under these conditions.  

---

## Approach  

**Step 1:** Track uniqueness  

Use a `HashSet<Integer>` to keep only unique elements when summing non-negative values.  

**Step 2:** Handle positives  

If the array contains any non-negative number, sum up the distinct non-negative values.  

**Step 3:** Handle all-negative arrays  

If the array contains only negatives, return the maximum element (least negative value).  

---

## Implementation  

```java
import java.util.HashSet;
import java.util.Set;

class Solution3487 {
    public int maxSum(int[] nums) {
        Set<Integer> uniqueNums = new HashSet<>();
        int currMaxValue = Integer.MIN_VALUE;
        boolean isPositive = false;
        int sum = 0;

        for (int num : nums) {
            if (num >= 0) {
                isPositive = true;
                
                if (!uniqueNums.contains(num)) sum += num;

                uniqueNums.add(num);
            } else if (!isPositive) currMaxValue = Math.max(num, currMaxValue);
        }

        return isPositive ? sum : currMaxValue;
    }
}
```
